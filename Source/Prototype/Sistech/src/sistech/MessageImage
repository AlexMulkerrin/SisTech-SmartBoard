/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package sistech;

/**
 *
 * @author prino_000
 */

import java.io.*;
import java.awt.*;
import java.awt.image.BufferedImage;
import javax.imageio.ImageIO;

public class MessageImage 
{
    public void saveMessageAsTiff(Component c, String filename, boolean subcomp) throws IOException 
    {
        saveMessage(c, "tiff", filename, subcomp);
    }
    
    public void saveMessage(Component c, String format, String filename, boolean subcomp) throws IOException
    {
        //Create a renderable image with the same width and height as the component
        BufferedImage image = new BufferedImage(c.getWidth(), c.getHeight(), BufferedImage.TYPE_INT_ARGB);
        
        if(subcomp)
        {
            // Render the componenet and all its sub components
            c.paintAll(image.getGraphics());
        }
        else
        {
            // Render the component and ignoring its sub components
            c.paint(image.getGraphics());
        }
        
        //Save the image out to file
        ImageIO.write(image, format, new File(filename));
    }
}
